(self.webpackChunk=self.webpackChunk||[]).push([[8881],{47468:function(e,a,n){"use strict";n.r(a),n.d(a,{data:function(){return s}});const s={key:"v-9fc3b15c",path:"/Standard/Static.html",title:"静态资源",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"公用静态资源服务器",slug:"公用静态资源服务器",children:[]},{level:2,title:"本地静态资源服务器",slug:"本地静态资源服务器",children:[]},{level:2,title:"配置线上 OSS 地址",slug:"配置线上-oss-地址",children:[]}],filePathRelative:"Standard/Static.md",git:{updatedTime:1624865896e3,contributors:[]}}},52843:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return u}});var s=n(66252);const t=(0,s.uE)('<h1 id="静态资源" tabindex="-1"><a class="header-anchor" href="#静态资源" aria-hidden="true">#</a> 静态资源</h1><p>在开发过程中，通常情况下不允许将静态资源放置项目中，应在本地启动一个静态资源服务器，用链接的形式加载静态资源。</p><p><strong>分离静态资源与项目的原因：</strong></p><ul><li>静态资源与项目绑定，导致 git 仓库占用空间巨大，拉取项目耗时。</li><li>后期项目上线，静态资源均储存在 阿里云OSS 中，后期替换链接提高了开发成本。</li></ul><h2 id="公用静态资源服务器" tabindex="-1"><a class="header-anchor" href="#公用静态资源服务器" aria-hidden="true">#</a> 公用静态资源服务器</h2><p>公用的静态资源服务器是由设计师提供的，通过访问设计师地址：</p><blockquote><p>IP + 端口号 + 项目路径 + 资源类型路径 + 自定义路径(可选) + 文件名。 示例：http://192.168.1.1:8889/project/images/page1/bg.jpg</p></blockquote><p>请保证与公用静态资源服务器在同一内网下。</p><p>在开发环境的环境变量中设置(.env.development)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 注意替换为静态资源服务器地址</span>\n<span class="token assign-left variable">VUE_APP_STATIC_URL</span><span class="token operator">=</span>http://192.168.1.1:8889/project/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>静态资源路径区分到项目名即可，后续的路径由具体组件调用时补齐。</p></blockquote><h2 id="本地静态资源服务器" tabindex="-1"><a class="header-anchor" href="#本地静态资源服务器" aria-hidden="true">#</a> 本地静态资源服务器</h2>',12),r=(0,s.Uk)("在开发过程中，我们应本地启动一个静态资源服务器，以提供图片资源的地址，推荐使用 "),l={href:"https://www.npmjs.com/package/http-server",target:"_blank",rel:"noopener noreferrer"},p=(0,s.Uk)("http-server"),i=(0,s.Uk)(" 启动，可以使用 "),c={href:"https://www.npmjs.com/package/pm2",target:"_blank",rel:"noopener noreferrer"},o=(0,s.Uk)("pm2"),d=(0,s.Uk)(" 配合管理进程。"),h=(0,s.uE)('<p>在环境变量中已经预留好图片地址前缀的位置，配合 m-static 组件即可。</p><h2 id="配置线上-oss-地址" tabindex="-1"><a class="header-anchor" href="#配置线上-oss-地址" aria-hidden="true">#</a> 配置线上 OSS 地址</h2><p>在生产环境下，会将所有的静态资源上传至 OSS，并保证路径的一致性。</p><p>此时在生产环境变量下设置 OSS 地址(.env.production)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 注意替换为 OSS 地址</span>\n<span class="token assign-left variable">VUE_APP_STATIC_URL</span><span class="token operator">=</span>http://oss.com/project/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',5);var u={render:function(e,a){const n=(0,s.up)("OutboundLink");return(0,s.wg)(),(0,s.j4)(s.HY,null,[t,(0,s.Wm)("p",null,[r,(0,s.Wm)("a",l,[p,(0,s.Wm)(n)]),i,(0,s.Wm)("a",c,[o,(0,s.Wm)(n)]),d]),h],64)}}}}]);